<div class="ui-select-container" [class.ui-select-disabled]="disabled">
  @if (label) {
  <label class="ui-select-label" [id]="id + '-label'" [attr.for]="id">
    {{ label }}
  </label>
  }

  <div class="ui-select-box" [class.ui-select-error]="error">
    <select
      class="ui-select-native"
      [id]="id"
      [disabled]="disabled"
      [attr.aria-invalid]="error"
      [attr.aria-labelledby]="label ? id + '-label' : null"
      (change)="onSelectChange($event)"
      (blur)="markAsTouched()"
    >
      <!-- Opção de placeholder (selecionada se valor for vazio) -->
      <option value="" disabled [selected]="!value">
        {{ placeholder }}
      </option>

      @for (opt of options; track opt.value) {
      <option
        [value]="opt.value"
        [disabled]="opt.disabled"
        [selected]="opt.value === value"
      >
        {{ opt.label }}
      </option>
      }
    </select>

    <!-- Ícone chevron -->
    <svg class="ui-select-icon" viewBox="0 0 24 24" aria-hidden="true">
      <path
        fill="currentColor"
        d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"
      />
    </svg>
  </div>
</div>
